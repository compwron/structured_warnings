h1. rug-b 

h1. &#x2192; 'structured_warnings'


h2. What

This is an implementation of "Daniel Berger":http://www.oreillynet.com/pub/au/2999 's 
"proposal of structured warnings":http://www.oreillynet.com/ruby/blog/2008/02/structured_warnings_now.html
for Ruby. They provide dynamic suppression and activation, as well as, an 
inheritance hierarchy to model their relations. This library preserves the old
<code>warn</code> signature, but additionally allows a <code>raise</code>-like 
use.

For more information on the usage and benefits of this library have a look at
the inspiring article at 
"O'Reilly":http://www.oreillynet.com/ruby/blog/2008/02/structured_warnings_now.html.

h2. Installing

<pre syntax="ruby">sudo gem install structured_warnings</pre>

h2. Demonstration of usage

To get you started - here a short extract from the article:

<pre syntax="ruby">
class Foo
  def old_method
    warn DeprecatedMethodWarning, 'This method is deprecated. Use new_method instead'
    # Do stuff
  end
end


require 'test/unit'
require 'structured_warnings'

class FooTests < Test::Unit::TestCase
  def setup
    @foo = Foo.new
  end

  def test_old_method
    assert_warn(DeprecatedMethodWarning){ @foo.old_method }
  end
end
</pre>

[...]

So, using our hypothetical RedefinedMethodWarning class, I could disable them like so:

<pre syntax="ruby">
RedefinedMethodWarning.disable # No more warnings about method redefinitions!
</pre>

Or, with block syntax, we could disable a particular warning temporarily:

<pre syntax="ruby">
# Don't bug me about deprecated method warnings within this block, I know
# what I'm doing.
#
DeprecatedMethodWarning.disable{
   [1,2,3,4,5].indexes(1,3) # Array#indexes is a deprecated method
}

# But here I would get a warning since it's outside the block:
[1,2,3,4,5].indexes(1,3)
</pre>


h2. How to submit patches

Read the "8 steps for fixing other people's code":http://drnicwilliams.com/2007/06/01/8-steps-for-fixing-other-peoples-code/ and for section "8z: Email the project owner":http://drnicwilliams.com/2007/06/01/8-steps-for-fixing-other-peoples-code/#8z-email, use the Email below.

The trunk repository is <code>svn://rubyforge.org/var/svn/rug-b/structured_warnings/trunk</code> for anonymous access.

h2. License

This code is free to use under the terms of the MIT license. 

h2. Contact

Comments are welcome. Send an email to "Gregor Schmidt":mailto:ruby@schmidtwisser.de
